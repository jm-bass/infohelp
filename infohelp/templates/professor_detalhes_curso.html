{% extends "base.html" %}
{% load static %}

{% block title %}{{ curso.titulo }} - InfoHelp{% endblock title %}

{% block content %}
<section class="titulos-pagina container">
    <div class="titulo-pag">
        <h1>{{ curso.titulo }}</h1>
        <p>{{ curso.descricao }}</p>
    </div>
</section>

{% if messages %}
  {% for message in messages %}
  <div class="container">
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
  </div>
  {% endfor %}
{% endif %}

<section class="section-detalhes_curso container">
    <div class="mb-3">
        <a class="btn btn-primary" href="{% url 'criar_aula_professor' curso.id %}">
            ➕ Criar nova aula
        </a>
    </div>

    {% if aulas %}
        <div class="list-group">
            {% for aula in aulas %}
                <div class="list-group-item">
                    <h5>{{ aula.titulo }}</h5>
                    <p>{{ aula.descricao }}</p>

                    <div class="mb-2">
                        {% if aula.video %}
                            🎬 <a href="{{ aula.video.url }}" target="_blank">Vídeo</a><br>
                        {% endif %}
                        {% if aula.pdf %}
                            📄 <a href="{{ aula.pdf.url }}" target="_blank">PDF</a><br>
                        {% endif %}
                        {% if aula.ppt %}
                            📊 <a href="{{ aula.ppt.url }}" target="_blank">Apresentação</a><br>
                        {% endif %}
                    </div>

                    <div>
                        <a href="{% url 'editar_aula_professor' curso.id aula.id %}" class="btn btn-warning btn-sm">
                            ✏️ Editar
                        </a>
                        <a href="{% url 'excluir_aula_professor' curso.id aula.id %}" class="btn btn-danger btn-sm">
                            🗑️ Excluir
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>Nenhuma aula cadastrada ainda.</p>
    {% endif %}
</section>
{% endblock content %}
